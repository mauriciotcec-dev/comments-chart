# Reemplaza los valores por defecto antes del deploy o pásalos desde CI con --set
replicaCount:
  frontend: 2
  backendApi: 1
  backendData: 1

# Namespace donde se desplegarán los recursos (el workflow leerá este valor)
namespace: mauricio-tc-ec-dev

# Repositorios por defecto: reemplaza REPLACE_WITH_USER o pásalo desde CI con --set.
# NO uses expresiones de GitHub Actions (${{ secrets... }}) dentro del values.yaml.
images:
  frontend:
    repository: "docker.io/REPLACE_WITH_USER/frontend"
    tag: "latest"
  backendApi:
    repository: "docker.io/REPLACE_WITH_USER/backend-api"
    tag: "latest"
  backendData:
    repository: "docker.io/REPLACE_WITH_USER/backend-data"
    tag: "latest"

mongodb:
  image: "mongo:6.0"
  storage: 5Gi
  user: "comments_user"
  password: "changeme"
  database: "commentsdb"

service:
  frontend:
    port: 8080
  backendApi:
    port: 5000
  backendData:
    port: 5001

resources: {}

hpa:
  enabled: true
  minReplicas: 1
  maxReplicas: 5
  targetCPUUtilizationPercentage: 50

# Si usas imágenes privadas, el workflow de deploy crea un secret 'regcred'
imagePullSecrets:
  - name: regcred

route:
  enabled: true
  host: null   # o "app.example.com" si quieres un host específico
  tls:
    enabled: false
    # termination: "edge"  # opcional, ignorado si enabled: false